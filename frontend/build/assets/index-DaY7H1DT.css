:root{--bg: var(--tg-theme-bg-color, #1c1c1e);--text: var(--tg-theme-text-color, #ffffff);--hint: var(--tg-theme-hint-color, #8e8e93);--link: var(--tg-theme-link-color, #007aff);--btn: var(--tg-theme-button-color, #007aff);--btn-text: var(--tg-theme-button-text-color, #ffffff);--card-bg: var(--tg-theme-secondary-bg-color, #2c2c2e);--nav-h: 60px;--r: 12px;--gap: 12px}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}body{background:var(--bg);color:var(--text);font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:15px;line-height:1.45;overflow:hidden;height:100dvh}.app{display:flex;flex-direction:column;height:100dvh}.screen-wrap{flex:1;overflow-y:auto;padding-bottom:var(--nav-h)}.screen{padding:var(--gap);display:flex;flex-direction:column;gap:var(--gap)}.card{background:var(--card-bg);border-radius:var(--r);padding:14px}.card-header{font-size:13px;font-weight:600;color:var(--hint);text-transform:uppercase;letter-spacing:.4px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}.bottom-nav{position:fixed;bottom:0;left:0;right:0;height:var(--nav-h);background:var(--card-bg);display:flex;border-top:1px solid rgba(255,255,255,.08);padding-bottom:env(safe-area-inset-bottom,0);z-index:100}.nav-btn{flex:1;background:none;border:none;color:var(--hint);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:2px;cursor:pointer;transition:color .15s;-webkit-tap-highlight-color:transparent}.nav-btn.active{color:var(--btn)}.nav-icon{font-size:20px}.nav-label{font-size:10px;font-weight:500}.btn{display:block;width:100%;border:none;border-radius:10px;padding:12px 18px;font-size:15px;font-weight:600;cursor:pointer;text-align:center;transition:opacity .15s}.btn-primary{background:var(--btn);color:var(--btn-text)}.btn-disabled{background:#ffffff1a;color:var(--hint);cursor:not-allowed}.btn:active:not(:disabled){opacity:.75}.btn-sm{border:none;border-radius:8px;padding:6px 12px;font-size:13px;font-weight:500;cursor:pointer;background:#ffffff1f;color:var(--text);white-space:nowrap;transition:opacity .15s}.btn-sm:active{opacity:.7}.btn-green{background:#30d15833;color:#30d158}.btn-yellow{background:#ffd60a33;color:#ffd60a}.btn-red{background:#ff453a33;color:#ff453a}.mt{margin-top:8px}.ml{margin-left:6px}.hp-bar-wrap{position:relative;background:#ffffff1a;border-radius:8px;height:26px;overflow:hidden;margin:8px 0}.hp-bar{height:100%;border-radius:8px;transition:width .4s ease}.hp-text{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.6)}.exp-row{display:flex;align-items:center;gap:8px;margin-top:4px}.exp-bar-wrap{flex:1;height:6px;background:#ffffff1a;border-radius:3px;overflow:hidden}.exp-bar{height:100%;background:#007aff;border-radius:3px;transition:width .4s}.player-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:6px}.player-name{font-size:20px;font-weight:700}.gold-badge{font-size:20px;font-weight:700;color:#ffd60a}.stats-grid{display:flex;flex-direction:column;gap:8px}.stat-row{display:flex;align-items:center;gap:8px}.stat-label{flex:1}.stat-val{font-weight:700;min-width:32px;text-align:right}.stat-up-btn{background:var(--btn);color:#fff;border:none;border-radius:6px;width:28px;height:28px;font-size:18px;line-height:1;cursor:pointer;flex-shrink:0}.zone-tabs{display:flex;gap:6px;padding:0 var(--gap)}.zone-btn{flex:1;background:var(--card-bg);border:none;border-radius:10px;padding:9px 4px;color:var(--hint);font-size:12px;font-weight:500;cursor:pointer;text-align:center;transition:background .15s,color .15s}.zone-btn.active{background:var(--btn);color:#fff}.monster-row{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:10px 0;border-bottom:1px solid rgba(255,255,255,.06)}.monster-row:last-child{border-bottom:none}.btn-attack{width:auto;padding:8px 14px;font-size:13px;flex-shrink:0}.battle-reward{background:#30d1581f;border-radius:8px;padding:8px 12px;margin-bottom:10px;color:#30d158;font-weight:600;font-size:14px}.battle-log{max-height:220px;overflow-y:auto;display:flex;flex-direction:column;gap:3px}.log-line{font-size:13px;color:var(--hint);line-height:1.5}.log-line.crit{color:#ff9f0a}.log-line.dodge{color:#30d158}.log-line.win{color:#30d158;font-weight:700}.log-line.lose{color:#ff453a;font-weight:700}.tab-row{display:flex;gap:8px;padding:0 var(--gap)}.tab-btn{flex:1;background:var(--card-bg);border:none;border-bottom:2px solid transparent;border-radius:var(--r) var(--r) 0 0;padding:10px;color:var(--hint);font-size:14px;cursor:pointer;transition:color .15s,border-color .15s}.tab-btn.active{color:var(--btn);border-bottom-color:var(--btn);font-weight:600}.count{display:inline-block;background:#ffffff1f;border-radius:8px;padding:1px 7px;font-size:12px;margin-left:4px}.item-card{display:flex;flex-direction:column;gap:10px}.item-card.item-equipped{border-left:3px solid var(--btn)}.item-info{display:flex;flex-direction:column;gap:3px}.item-name{font-weight:600;font-size:15px}.item-actions{display:flex;gap:6px;flex-wrap:wrap}.badge-equipped{display:inline-block;background:#007aff33;color:var(--btn);border-radius:4px;padding:1px 7px;font-size:11px;font-weight:600;margin-left:6px}.prof-rewards{display:flex;gap:16px;margin:8px 0;font-size:13px;color:var(--hint)}.prof-row{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid rgba(255,255,255,.06)}.prof-row:last-child{border-bottom:none}.prof-row.prof-active{background:#007aff12;border-radius:8px;padding:12px 8px}.prof-icon{font-size:30px;flex-shrink:0}.prof-body{flex:1;min-width:0;display:flex;flex-direction:column;gap:2px}.chat-screen{display:flex;flex-direction:column;height:calc(100dvh - var(--nav-h));padding:0}.chat-messages{flex:1;overflow-y:auto;padding:var(--gap);display:flex;flex-direction:column;gap:10px}.chat-bubble{max-width:78%;align-self:flex-start}.chat-bubble.own{align-self:flex-end;text-align:right}.chat-author{display:block;font-size:11px;color:var(--btn);font-weight:600;margin-bottom:2px}.chat-bubble.own .chat-author{color:#30d158}.chat-text{background:var(--card-bg);border-radius:4px 14px 14px;padding:8px 12px;font-size:14px;word-break:break-word}.chat-bubble.own .chat-text{border-top-left-radius:14px;border-top-right-radius:4px}.chat-time{display:block;font-size:10px;color:var(--hint);margin-top:2px}.chat-error{background:#ff453a2e;color:#ff453a;padding:8px 14px;font-size:13px;text-align:center}.chat-input-row{display:flex;gap:8px;padding:10px var(--gap);padding-bottom:calc(10px + env(safe-area-inset-bottom,0));background:var(--card-bg);border-top:1px solid rgba(255,255,255,.08)}.chat-input{flex:1;background:#ffffff1a;border:none;border-radius:22px;padding:10px 16px;color:var(--text);font-size:15px;outline:none}.chat-input::placeholder{color:var(--hint)}.chat-input:disabled{opacity:.6}.chat-send-btn{background:var(--btn);color:var(--btn-text);border:none;border-radius:50%;width:42px;height:42px;font-size:18px;cursor:pointer;flex-shrink:0;display:flex;align-items:center;justify-content:center;transition:opacity .15s}.chat-send-btn:disabled{opacity:.4;cursor:not-allowed}.hint{color:var(--hint);font-size:13px}.center{text-align:center}.badge{background:#007aff33;color:var(--btn);border-radius:6px;padding:2px 8px;font-size:12px;font-weight:600}.toast{position:fixed;bottom:calc(var(--nav-h) + 16px);left:50%;transform:translate(-50%);background:#1e1e1eeb;color:#fff;padding:10px 20px;border-radius:22px;font-size:14px;z-index:200;white-space:nowrap;box-shadow:0 4px 16px #0006;animation:fadeIn .2s ease}@keyframes fadeIn{0%{opacity:0;transform:translate(-50%) translateY(8px)}}.splash{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100dvh;gap:16px;color:var(--hint);padding:24px;text-align:center}.err-icon{font-size:40px}.spinner{width:38px;height:38px;border:3px solid rgba(255,255,255,.15);border-top-color:var(--btn);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}
